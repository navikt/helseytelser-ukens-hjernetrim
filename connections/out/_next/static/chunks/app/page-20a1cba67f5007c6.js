(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4835:function(e,t,n){Promise.resolve().then(n.bind(n,1006))},1006:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var l=n(3827),s=n(8592),r=n(7907),i=n(4090),a=n(8009),o=n(1096),c=n(2944),u=n(1657);function d(e){let{name:t,words:n,color:s}=e;return(0,l.jsxs)("div",{className:"".concat(s," flex aspect-[4.25/1] flex-col justify-center rounded-md py-4 text-center uppercase leading-tight sm:aspect-auto"),children:[(0,l.jsx)("p",{className:"font-semibold",children:t}),(0,l.jsx)("p",{children:n.join(", ")})]})}function f(e){let{isOpen:t,onClose:n,teamName:s,onTeamNameChange:r,resultsText:a,averageGuessInterval:c,totalMistakes:u}=e,d=(0,i.useRef)(null);return((0,i.useEffect)(()=>{t&&d.current&&d.current.select()},[t]),t)?(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:n,children:(0,l.jsxs)("div",{className:"bg-stone-50 rounded-lg shadow-xl max-w-md w-full p-6 flex flex-col gap-4",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold",children:"Del dine resultat"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{htmlFor:"team-name",className:"font-medium",children:"Team navn:"}),(0,l.jsx)("input",{id:"team-name",type:"text",value:s,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-stone-300 rounded-md focus:outline-none focus:ring-2 focus:ring-stone-900",placeholder:"Skriv ditt teamnavn her"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{htmlFor:"results",className:"font-medium",children:"Resultat:"}),(0,l.jsx)("textarea",{id:"results",ref:d,value:a,readOnly:!0,rows:8,className:"px-3 py-2 border border-stone-300 rounded-md font-mono text-sm focus:outline-none focus:ring-2 focus:ring-stone-900 resize-none"}),(0,l.jsxs)("div",{className:"flex flex-col gap-1 text-sm text-stone-600",children:[(0,l.jsxs)("p",{children:["Snitt mellom gjetting: ",c]}),(0,l.jsxs)("p",{children:["Antall feil: ",u]})]}),(0,l.jsx)("p",{children:"Husk \xe5 del i #helseytelser-ukens-hjernetrim \uD83D\uDE0A"})]}),(0,l.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,l.jsx)(o.i,{onClick:n,children:"Lukk"}),(0,l.jsx)(o.i,{variant:"filled",onClick:()=>{d.current&&(d.current.select(),navigator.clipboard.writeText(a))},children:"Kopier"})]})]})}):null}function m(e){let{selected:t,bouncing:n=!1,shaking:s=!1,children:r,...i}=e,a="string"==typeof r?r.length:0;return(0,l.jsx)("button",{className:"".concat(t?"bg-stone-600 text-stone-50":"bg-stone-200"," ").concat(n?"animate-bounce-once":""," ").concat(s?"animate-shake-incorrect":""," ").concat(a<=6?"text-[1.3em] sm:text-[1.3em]":a<=8?"text-[1.25em] sm:text-[1.25em]":a<=10?"text-[1.15em] sm:text-[1.15em]":a<=11?"text-[1.1em] sm:text-[1.1em]":"sm:text-base"," aspect-square break-words rounded-md p-2 text-center font-semibold uppercase leading-none transition active:scale-95 sm:aspect-auto sm:py-6"),...i,children:r})}var x=n(4483);function h(e){let t=Math.max(0,Math.floor(e/1e3));return"".concat(Math.floor(t/60),"m ").concat((t%60).toString().padStart(2,"0"),"s")}function p(){(0,r.useSearchParams)();let[e]=(0,s.u)(),[t,n]=(0,s.u)(),[p,g]=(0,i.useState)(),[j,v]=(0,i.useState)([]),[N,b]=(0,i.useState)([]),[k,S]=(0,i.useState)([]),[w,D]=(0,i.useState)(!1),[y,E]=(0,i.useState)(null),[T,L]=(0,i.useState)([]),[K,C]=(0,i.useState)(!1),[R,I]=(0,i.useState)(""),[O,M]=(0,i.useState)([]),[P,U]=(0,i.useState)(null),[A,q]=(0,i.useState)(0),[F,G]=(0,i.useState)(null);(0,i.useEffect)(()=>{try{let e=x.$[0];for(let t=0;t<4;t++)e.words[t].sort(u.TZ);console.info("setting game options from URL",e),g(e),b((0,c.Rl)(e,k))}catch(e){console.error("could not parse game options from URL")}},[]);let Y=p?(0,c.t3)(p,k):0,_=4-Y,Z=0===N.length,B=0===_,V=4!==j.length||k.some(e=>(0,u.pt)(e,j)),z=h(O.length>1?(O[O.length-1]-O[0])/(O.length-1):0),Q=null!==P?h(null!=F?F:A):h(0);(0,i.useEffect)(()=>{if(B&&!w){let e=setTimeout(()=>{D(!0)},1500);return()=>clearTimeout(e)}},[B,w]),(0,i.useEffect)(()=>{if(null===P||null!==F)return;let e=setInterval(()=>{q(Date.now()-P)},1e3);return()=>clearInterval(e)},[P,F]),(0,i.useEffect)(()=>{if((Z||B)&&O.length>0&&null!==P&&null===F){let e=O[O.length-1];G(e-P),q(e-P)}},[Z,B,O,P,F]);let $=(()=>{let e=["\uD83D\uDFE8","\uD83D\uDFE9","\uD83D\uDFE6","\uD83D\uDFEA"];return k.map(t=>t.map(t=>e[(0,c.Lq)(p,t)]).join("")).join("\n")})(),H="Snitt mellom gjetting: ".concat(z,"\nAntall feil: ").concat(Y),J=["Team: ".concat(R||"---"),$,H,"Koblinger (uke 8)"].filter(e=>""!==e).join("\n");return void 0===p?(0,l.jsx)("main",{}):(0,l.jsxs)("main",{className:"flex flex-col gap-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)(a.x7,{containerStyle:{position:"relative",inset:0,flexShrink:0},toastOptions:{duration:3e3,className:"!shrink-0 !rounded-md !bg-stone-900 !p-2 !text-stone-50 !shadow-md"}})}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 sm:gap-4",children:[k.map(e=>(0,c.Y3)(p,e)?(0,l.jsx)(d,{name:p.names[(0,c.Lq)(p,e[0])],words:p.words[(0,c.Lq)(p,e[0])],color:c.O9[(0,c.Lq)(p,e[0])]},(0,c.Lq)(p,e[0])):void 0),B&&w&&(0,l.jsx)(l.Fragment,{children:(0,u.w6)(4).map(e=>{let t=p.words[e];return k.some(t=>(0,c.Y3)(p,t)&&(0,c.Lq)(p,t[0])===e)?null:(0,l.jsx)(d,{name:p.names[e],words:t,color:c.O9[e]},e)})}),N.length>0&&!(B&&w)&&(0,l.jsx)("div",{className:"grid grid-cols-4 gap-2 sm:gap-4",ref:t,children:N.map(e=>(0,l.jsx)(m,{selected:j.includes(e),bouncing:y===e,shaking:T.includes(e),onClick:()=>{j.includes(e)?v(j.filter(t=>t!==e)):j.length<4&&v([...j,e])},children:e},e))})]}),(0,l.jsxs)("div",{className:"flex w-full flex-wrap items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",ref:e,children:[(0,l.jsx)("p",{children:"Gjenv\xe6rende feil:"}),(0,u.w6)(_).map((e,t)=>(0,l.jsx)("span",{className:"h-4 w-4 rounded-full bg-stone-600"},t))]}),null!==P&&(0,l.jsxs)("div",{className:"flex items-center gap-2 opacity-30",children:[(0,l.jsx)("p",{children:"Tid brukt:"}),(0,l.jsx)("span",{className:"font-mono",children:Q})]})]}),Z||B?Z?(0,l.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,l.jsx)("p",{children:"Du vant, gratulerer! Del i #helseytelser-ukens-hjernetrim"}),(0,l.jsx)(o.i,{variant:"filled",onClick:()=>C(!0),children:"Del dine resultat"})]}):B?(0,l.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,l.jsx)("p",{children:"Lykke til neste gang! Kanskje det var for vanskelig? Del gjerne :)"}),w&&(0,l.jsx)(o.i,{variant:"filled",onClick:()=>C(!0),children:"Del dine resultat"})]}):null:(0,l.jsxs)("div",{className:"flex flex-wrap gap-4 place-self-center sm:place-self-auto",children:[(0,l.jsx)(o.i,{onClick:()=>b((0,c.Rl)(p,k)),children:"Stokk om"}),(0,l.jsx)(o.i,{disabled:0===j.length,onClick:()=>v([]),children:"Nullstill valg"}),(0,l.jsx)(o.i,{variant:V?void 0:"filled",disabled:V,onClick:async()=>{let e=Date.now();for(let t of(null===P&&(U(e),q(0),G(null)),N.filter(e=>j.includes(e))))E(t),await new Promise(e=>setTimeout(e,300));if(E(null),!0===(0,c.Y3)(p,j)){let t=j.toSorted(u.TZ);for(let e=0;e<4;e++)b(n=>{let l=n.indexOf(t[e]);return(0,u.QP)(n,e,l)});n(!0),await new Promise(e=>setTimeout(e,500)),S([...k,j]),M(t=>[...t,e]),v([]),b(e=>e.filter(e=>!j.includes(e))),n(!1)}else L(j),await new Promise(e=>setTimeout(e,500)),L([]),3===(0,c.f4)(p,j)&&(0,a.ZP)("En unna..."),S([...k,j]),M(t=>[...t,e]),v([])},children:"Send inn"})]}),(0,l.jsx)(f,{isOpen:K,onClose:()=>C(!1),teamName:R,onTeamNameChange:I,resultsText:J,averageGuessInterval:z,totalMistakes:Y})]})}},1096:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var l=n(3827);function s(e){let{disabled:t,variant:n,...s}=e;return(0,l.jsx)("button",{...s,className:"rounded-full border border-black px-4 py-2\n          ".concat(t?"opacity-40":"","\n          ").concat("filled"===n?"bg-black text-white":""),disabled:t})}},4483:function(e,t,n){"use strict";n.d(t,{$:function(){return l}});let l=[{title:"Uke 8",author:"Ukens hjernetrim",names:["TING I TURSEKKEN",'ORD SOM KAN SLUTTE MED "-MELDING"',"NORSK V\xc6R","SKISKYTING"],words:[["APPELSIN","TERMOS","KART","KVIKK LUNSJ"],["SYK","SKADE","FEIL","UT"],["STORM","KULING","BRIS","SLUDD"],["BOM","SKIVE","BLINK","RUNDE"]]}]},2944:function(e,t,n){"use strict";n.d(t,{Lq:function(){return s},O9:function(){return l},Rl:function(){return o},Y3:function(){return r},f4:function(){return i},t3:function(){return a}});let l=["bg-nyt-yellow","bg-nyt-green","bg-nyt-blue","bg-nyt-purple"];function s(e,t){for(let n=0;n<4;n++)if(e.words[n].includes(t))return n;return -1}function r(e,t){let n=s(e,t[0]);for(let l=1;l<4;l++)if(s(e,t[l])!==n)return!1;return!0}function i(e,t){let n=[0,0,0,0];for(let l=0;l<4;l++)n[s(e,t[l])]++;let l=0;for(let e=0;e<4;e++)n[e]>l&&(l=n[e]);return l}function a(e,t){let n=0;for(let l=0;l<t.length;l++)!1===r(e,t[l])&&n++;return n}function o(e,t){let n=function(e,t){let n=[!1,!1,!1,!1];for(let l=0;l<t.length;l++)r(e,t[l])&&(n[s(e,t[l][0])]=!0);return n}(e,t),l=[];for(let t=0;t<4;t++)!1===n[t]&&e.words[t].forEach(e=>l.push(e));return l.sort(()=>Math.random()-.5),l}},1657:function(e,t,n){"use strict";function l(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1}function s(e){return Array.from({length:e},(e,t)=>t)}function r(e,t,n){let l=[];for(let s=0;s<e.length;s++)s===t?l[s]=e[n]:s===n?l[s]=e[t]:l[s]=e[s];return l}function i(e,t){return e.sort().join(",")===t.sort().join(",")}n.d(t,{QP:function(){return r},TZ:function(){return l},pt:function(){return i},w6:function(){return s}})}},function(e){e.O(0,[804,971,69,744],function(){return e(e.s=4835)}),_N_E=e.O()}]);