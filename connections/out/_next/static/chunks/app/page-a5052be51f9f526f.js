(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4835:function(e,n,t){Promise.resolve().then(t.bind(t,1006))},1006:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var s=t(3827),l=t(8592),r=t(7907),i=t(4090),o=t(8009),a=t(1096),c=t(2944),u=t(1657);function d(e){let{name:n,words:t,color:l}=e;return(0,s.jsxs)("div",{className:"".concat(l," flex aspect-[4.25/1] flex-col justify-center rounded-md py-4 text-center uppercase leading-tight sm:aspect-auto"),children:[(0,s.jsx)("p",{className:"font-semibold",children:n}),(0,s.jsx)("p",{children:t.join(", ")})]})}function f(e){let{isOpen:n,onClose:t,teamName:l,onTeamNameChange:r,resultsText:o}=e,c=(0,i.useRef)(null);return((0,i.useEffect)(()=>{n&&c.current&&c.current.select()},[n]),n)?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:t,children:(0,s.jsxs)("div",{className:"bg-stone-50 rounded-lg shadow-xl max-w-md w-full p-6 flex flex-col gap-4",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Del dine resultat"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"team-name",className:"font-medium",children:"Team navn:"}),(0,s.jsx)("input",{id:"team-name",type:"text",value:l,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-stone-300 rounded-md focus:outline-none focus:ring-2 focus:ring-stone-900",placeholder:"Skriv ditt teamnavn her"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"results",className:"font-medium",children:"Resultat:"}),(0,s.jsx)("textarea",{id:"results",ref:c,value:o,readOnly:!0,rows:8,className:"px-3 py-2 border border-stone-300 rounded-md font-mono text-sm focus:outline-none focus:ring-2 focus:ring-stone-900 resize-none"}),(0,s.jsx)("div",{className:"flex flex-col gap-2",children:(0,s.jsx)("p",{children:"Husk \xe5 del i #helseytelser-ukens-hjernetrim \uD83D\uDE0A"})})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,s.jsx)(a.i,{onClick:t,children:"Lukk"}),(0,s.jsx)(a.i,{variant:"filled",onClick:()=>{c.current&&(c.current.select(),navigator.clipboard.writeText(o))},children:"Kopier"})]})]})}):null}function m(e){let{selected:n,bouncing:t=!1,shaking:l=!1,...r}=e;return(0,s.jsx)("button",{className:"".concat(n?"bg-stone-600 text-stone-50":"bg-stone-200"," ").concat(t?"animate-bounce-once":""," ").concat(l?"animate-shake-incorrect":""," aspect-square break-words rounded-md p-2 text-center font-semibold uppercase leading-none transition active:scale-95 sm:aspect-auto sm:py-6 sm:text-base"),...r})}var x=t(4483);function h(){(0,r.useSearchParams)();let[e]=(0,l.u)(),[n,t]=(0,l.u)(),[h,p]=(0,i.useState)(),[g,j]=(0,i.useState)([]),[N,b]=(0,i.useState)([]),[k,v]=(0,i.useState)([]),[w,S]=(0,i.useState)(!1),[D,y]=(0,i.useState)(null),[E,T]=(0,i.useState)([]),[L,C]=(0,i.useState)(!1),[K,R]=(0,i.useState)("");(0,i.useEffect)(()=>{try{let e=x.$[0];for(let n=0;n<4;n++)e.words[n].sort(u.TZ);console.info("setting game options from URL",e),p(e),b((0,c.Rl)(e,k))}catch(e){console.error("could not parse game options from URL")}},[]);let O=4-(h?(0,c.t3)(h,k):0),I=0===N.length,P=0===O,U=4!==g.length||k.some(e=>(0,u.pt)(e,g));(0,i.useEffect)(()=>{if(P&&!w){let e=setTimeout(()=>{S(!0)},1500);return()=>clearTimeout(e)}},[P,w]);let q="Team: ".concat(K||"---","\n").concat((()=>{let e=["\uD83D\uDFEA","\uD83D\uDFE6","\uD83D\uDFE9","\uD83D\uDFE8"];return k.map(n=>n.map(n=>e[(0,c.Lq)(h,n)]).join("")).join("\n")})(),"\nKoblinger (uke 8)");return void 0===h?(0,s.jsx)("main",{}):(0,s.jsxs)("main",{className:"flex flex-col gap-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(o.x7,{containerStyle:{position:"relative",inset:0,flexShrink:0},toastOptions:{duration:3e3,className:"!shrink-0 !rounded-md !bg-stone-900 !p-2 !text-stone-50 !shadow-md"}})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 sm:gap-4",children:[k.map(e=>(0,c.Y3)(h,e)?(0,s.jsx)(d,{name:h.names[(0,c.Lq)(h,e[0])],words:h.words[(0,c.Lq)(h,e[0])],color:c.O9[(0,c.Lq)(h,e[0])]},(0,c.Lq)(h,e[0])):void 0),P&&w&&(0,s.jsx)(s.Fragment,{children:(0,u.w6)(4).map(e=>{let n=h.words[e];return k.some(n=>(0,c.Y3)(h,n)&&(0,c.Lq)(h,n[0])===e)?null:(0,s.jsx)(d,{name:h.names[e],words:n,color:c.O9[e]},e)})}),N.length>0&&!(P&&w)&&(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2 sm:gap-4",ref:n,children:N.map(e=>(0,s.jsx)(m,{selected:g.includes(e),bouncing:D===e,shaking:E.includes(e),onClick:()=>{g.includes(e)?j(g.filter(n=>n!==e)):g.length<4&&j([...g,e])},children:e},e))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 place-self-center sm:place-self-auto",ref:e,children:[(0,s.jsx)("p",{children:"Gjenv\xe6rende feil:"}),(0,u.w6)(O).map((e,n)=>(0,s.jsx)("span",{className:"h-4 w-4 rounded-full bg-stone-600"},n))]}),I||P?I?(0,s.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,s.jsx)("p",{children:"Du vant, gratulerer! Del i #helseytelser-ukens-hjernetrim"}),(0,s.jsx)(a.i,{variant:"filled",onClick:()=>C(!0),children:"Del dine resultat"})]}):P?(0,s.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,s.jsx)("p",{children:w?"":"Lykke til neste gang. Del i #helseytelser-ukens-hjernetrim (kanskje for vanskelig?)"}),w&&(0,s.jsx)(a.i,{variant:"filled",onClick:()=>C(!0),children:"Del dine resultat"})]}):null:(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 place-self-center sm:place-self-auto",children:[(0,s.jsx)(a.i,{onClick:()=>b((0,c.Rl)(h,k)),children:"Stokk om"}),(0,s.jsx)(a.i,{disabled:0===g.length,onClick:()=>j([]),children:"Nullstill valg"}),(0,s.jsx)(a.i,{variant:U?void 0:"filled",disabled:U,onClick:async()=>{for(let e of N.filter(e=>g.includes(e)))y(e),await new Promise(e=>setTimeout(e,300));if(y(null),!0===(0,c.Y3)(h,g)){let e=g.toSorted(u.TZ);for(let n=0;n<4;n++)b(t=>{let s=t.indexOf(e[n]);return(0,u.QP)(t,n,s)});t(!0),await new Promise(e=>setTimeout(e,500)),v([...k,g]),j([]),b(e=>e.filter(e=>!g.includes(e))),t(!1)}else T(g),await new Promise(e=>setTimeout(e,500)),T([]),3===(0,c.f4)(h,g)&&(0,o.ZP)("En unna..."),v([...k,g]),j([])},children:"Send inn"})]}),(0,s.jsx)(f,{isOpen:L,onClose:()=>C(!1),teamName:K,onTeamNameChange:R,resultsText:q})]})}},1096:function(e,n,t){"use strict";t.d(n,{i:function(){return l}});var s=t(3827);function l(e){let{disabled:n,variant:t,...l}=e;return(0,s.jsx)("button",{...l,className:"rounded-full border border-black px-4 py-2\n          ".concat(n?"opacity-40":"","\n          ").concat("filled"===t?"bg-black text-white":""),disabled:n})}},4483:function(e,n,t){"use strict";t.d(n,{$:function(){return s}});let s=[{title:"Uke 8",author:"Ukens hjernetrim",names:["TING I TURSEKKEN",'ORD SOM KAN SLUTTE MED "-MELDING"',"NORSK V\xc6R","SKISKYTING"],words:[["APPELSIN","TERMOS","KART","KVIKK LUNSJ"],["SYK","SKADE","FEIL","UT"],["STORM","KULING","BRIS","SLUDD"],["BOM","SKIVE","BLINK","RUNDE"]]}]},2944:function(e,n,t){"use strict";t.d(n,{Lq:function(){return l},O9:function(){return s},Rl:function(){return a},Y3:function(){return r},f4:function(){return i},t3:function(){return o}});let s=["bg-nyt-yellow","bg-nyt-green","bg-nyt-blue","bg-nyt-purple"];function l(e,n){for(let t=0;t<4;t++)if(e.words[t].includes(n))return t;return -1}function r(e,n){let t=l(e,n[0]);for(let s=1;s<4;s++)if(l(e,n[s])!==t)return!1;return!0}function i(e,n){let t=[0,0,0,0];for(let s=0;s<4;s++)t[l(e,n[s])]++;let s=0;for(let e=0;e<4;e++)t[e]>s&&(s=t[e]);return s}function o(e,n){let t=0;for(let s=0;s<n.length;s++)!1===r(e,n[s])&&t++;return t}function a(e,n){let t=function(e,n){let t=[!1,!1,!1,!1];for(let s=0;s<n.length;s++)r(e,n[s])&&(t[l(e,n[s][0])]=!0);return t}(e,n),s=[];for(let n=0;n<4;n++)!1===t[n]&&e.words[n].forEach(e=>s.push(e));return s.sort(()=>Math.random()-.5),s}},1657:function(e,n,t){"use strict";function s(e,n){return e.toLowerCase()<n.toLowerCase()?-1:1}function l(e){return Array.from({length:e},(e,n)=>n)}function r(e,n,t){let s=[];for(let l=0;l<e.length;l++)l===n?s[l]=e[t]:l===t?s[l]=e[n]:s[l]=e[l];return s}function i(e,n){return e.sort().join(",")===n.sort().join(",")}t.d(n,{QP:function(){return r},TZ:function(){return s},pt:function(){return i},w6:function(){return l}})}},function(e){e.O(0,[804,971,69,744],function(){return e(e.s=4835)}),_N_E=e.O()}]);